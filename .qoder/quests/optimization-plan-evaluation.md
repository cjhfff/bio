# æ•°æ®é‡‡é›†ä¸ç­›é€‰ä¼˜åŒ–æ–¹æ¡ˆå¯è¡Œæ€§è¯„ä¼°

## ä¸€ã€ç°çŠ¶åˆ†æ

### 1.1 å½“å‰ç³»ç»Ÿæ¶æ„

**æ•°æ®æµç¨‹**
- æ•°æ®é‡‡é›† â†’ åˆç­›è¿‡æ»¤ â†’ å»é‡ â†’ è¯„åˆ† â†’ TopKé€‰æ‹© â†’ æ¨é€

**å…³é”®å‚æ•°**
- MAX_PAGES: 5ï¼ˆæ¯é¡µ100æ¡ï¼Œå…±500ç¯‡ï¼‰
- DEFAULT_WINDOW_DAYS: 7å¤©
- TOP_K: 5ç¯‡
- MIN_CANDIDATES: 10ç¯‡ï¼ˆå›é€€é˜ˆå€¼ï¼‰

**æ•°æ®æºé…ç½®**
- ç›®æ ‡åˆ†ç±»ï¼šplant biology, biochemistry, biophysics, microbiology, åˆ†å­ç”Ÿç‰©å­¦, ç»†èƒç”Ÿç‰©å­¦
- æ ¸å¿ƒå…³é”®è¯ï¼šä¸‰å¤§æ–¹å‘å…±è®¡çº¦60ä¸ªå…³é”®è¯
- æ’é™¤è¯ï¼š15ä¸ªï¼ˆhuman, patient, clinical, mouseç­‰ï¼‰

### 1.2 é—®é¢˜è¯Šæ–­

**é€šé‡ç“¶é¢ˆï¼ˆä½å¬å›ç‡ï¼‰**
| ç“¶é¢ˆç‚¹ | å½“å‰è¡¨ç° | æ ¹æœ¬åŸå›  |
|--------|----------|----------|
| åˆ†é¡µæ·±åº¦ä¸è¶³ | MAX_PAGES=5ï¼Œä»…500ç¯‡ | 7å¤©çª—å£ä¸­bioRxivå…¨åº“å¯èƒ½æœ‰2000+ç¯‡ï¼Œè¦†ç›–ç‡ä»…25% |
| æ—¶é—´è¦†ç›–ç›²åŒº | ç¬¬3-7å¤©è®ºæ–‡å¯èƒ½æœªæŠ“å– | å›ºå®šé¡µæ•°æ— æ³•ä¿è¯æ—¶é—´è¾¹ç•Œå®Œæ•´æ€§ |
| åˆ†ç±»é—æ¼ | ç»“æ„ç”Ÿç‰©å­¦æ–‡ç« åˆ†æ•£åœ¨å¤šä¸ªåˆ†ç±»ä¸‹ | TARGET_CATEGORIESæœªåŒ…å«ç»“æ„ç”Ÿç‰©å­¦ç›¸å…³åˆ†ç±» |

**ç‰¹å¼‚æ€§é—®é¢˜ï¼ˆé«˜è¯¯æ€ç‡ï¼‰**
| é—®é¢˜ç±»å‹ | å…¸å‹åœºæ™¯ | å½±å“ |
|---------|---------|------|
| æ’é™¤è¯è¿‡äºåˆšæ€§ | "NLR structure in Arabidopsis and human homolog comparison" è¢«æ’é™¤ | åŒ…å«humanä½†å®é™…æ˜¯æ¤ç‰©ç ”ç©¶ |
| ç¼ºä¹æ­£å‘ä¼˜å…ˆçº§ | Cryo-EMç»“æ„è§£æå¯èƒ½å› å…¶ä»–å› ç´ è¢«è¿‡æ»¤ | é«˜ä»·å€¼ç»“æ„ç”Ÿç‰©å­¦è®ºæ–‡æµå¤± |
| æ— åˆ†å±‚ç­›é€‰æœºåˆ¶ | æ‰€æœ‰è®ºæ–‡ä¸€è§†åŒä»ï¼ŒTrue/Falseåˆ¤å®š | æ— æ³•è¯†åˆ«P0çº§çªç ´æ€§å·¥ä½œ |

**è¯„åˆ†ç³»ç»Ÿå±€é™æ€§**
| å±€é™ç‚¹ | è¯´æ˜ |
|--------|------|
| æ— Impact Factoræƒé‡ | æœªåŒºåˆ†Nature vs bioRxivçš„å½±å“åŠ›å·®å¼‚ |
| ç»“æ„å…³é”®è¯æƒé‡ä¸è¶³ | Cryo-EMã€Crystal structureç­‰ä»…+8åˆ† |
| ç¼ºä¹ä¼˜å…ˆçº§åˆ†å±‚ | æ— P0/P1/P2åˆ’åˆ†æœºåˆ¶ |

### 1.3 æ•°æ®æ¼æ–—åˆ†æéœ€æ±‚

å½“å‰ç³»ç»Ÿç¼ºä¹å¦‚ä¸‹è¯Šæ–­æŒ‡æ ‡ï¼š
- totalï¼šAPIè¿”å›æ€»æ•°
- cat_matchï¼šåˆ†ç±»åŒ¹é…æ•°
- kw_matchï¼šå…³é”®è¯åŒ¹é…æ•°
- excludedï¼šè¢«æ’é™¤è¯è¿‡æ»¤æ•°
- duplicateï¼šé‡å¤è®ºæ–‡æ•°
- finalï¼šæœ€ç»ˆå…¥é€‰æ•°

## äºŒã€ä¼˜åŒ–æ–¹æ¡ˆå¯è¡Œæ€§è¯„ä¼°

### 2.1 é€šé‡ä¼˜åŒ–æ–¹æ¡ˆ

#### æ–¹æ¡ˆ1ï¼šåŠ¨æ€åˆ†é¡µæ·±åº¦

**è®¾è®¡æ€è·¯**
- å°†MAX_PAGESä»5æå‡è‡³20ï¼Œç†è®ºè¦†ç›–2000ç¯‡
- å¼•å…¥æ—¶é—´æ—©é€€æœºåˆ¶ï¼šæ£€æµ‹å½“å‰é¡µæœ€è€è®ºæ–‡æ—¥æœŸæ˜¯å¦è¶…å‡ºwindow_daysè¾¹ç•Œ
- æå‰ç»ˆæ­¢æ¡ä»¶ï¼šå½“è¿ç»­2é¡µæ— æ–°å¢æœ‰æ•ˆè®ºæ–‡æ—¶åœæ­¢

**å¯è¡Œæ€§è¯„ä¼°**
| ç»´åº¦ | è¯„ä¼°ç»“æœ | è¯´æ˜ |
|------|---------|------|
| æŠ€æœ¯å¯è¡Œæ€§ | âœ… é«˜ | bioRxiv APIæ”¯æŒcursoråˆ†é¡µï¼Œæ— æŠ€æœ¯éšœç¢ |
| æ€§èƒ½å½±å“ | âš ï¸ ä¸­ | å•æ¬¡è¯·æ±‚è€—æ—¶ä»15ç§’å¢è‡³60ç§’ï¼Œå¯æ¥å— |
| æˆæœ¬å½±å“ | âœ… ä½ | APIå…è´¹ï¼Œä»…å¢åŠ ç½‘ç»œæµé‡ |
| é£é™©ç­‰çº§ | âœ… ä½ | ä»…ä¿®æ”¹å¾ªç¯é€»è¾‘ï¼Œä¸å½±å“å…¶ä»–æ¨¡å— |

**å®æ–½å»ºè®®**
- ä¼˜å…ˆçº§ï¼šâ­â­â­â­â­ï¼ˆå¼ºçƒˆæ¨èï¼‰
- é¢„æœŸæ•ˆæœï¼šå¬å›ç‡ä»25%æå‡è‡³90%+

**å®æ–½è¦ç‚¹**
- åœ¨fetchå¾ªç¯ä¸­å¢åŠ æ—¥æœŸè¾¹ç•Œæ£€æŸ¥
- è®°å½•æ¯é¡µæœ€è€è®ºæ–‡æ—¥æœŸï¼Œä¸start_dateæ¯”è¾ƒ
- å¢åŠ è¯Šæ–­æ—¥å¿—ï¼šæ¯é¡µæŠ“å–æ•°ã€ç´¯è®¡æœ‰æ•ˆæ•°

#### æ–¹æ¡ˆ2ï¼šæ‰©å±•é¢†åŸŸåˆ†ç±»

**è®¾è®¡æ€è·¯**
- åœ¨TARGET_CATEGORIESä¸­æ–°å¢ï¼šstructural biology, cell biology, molecular biology
- åˆ†æå»ºè®®ï¼šè®¸å¤šCryo-EMç»“æ„è§£æè¢«å½’ç±»åœ¨"cell biology"è€Œé"plant biology"

**å¯è¡Œæ€§è¯„ä¼°**
| ç»´åº¦ | è¯„ä¼°ç»“æœ | è¯´æ˜ |
|------|---------|------|
| æŠ€æœ¯å¯è¡Œæ€§ | âœ… é«˜ | ä»…ä¿®æ”¹é…ç½®åˆ—è¡¨ |
| ç²¾å‡†åº¦å½±å“ | âš ï¸ ä¸­ | å¯èƒ½å¼•å…¥æ›´å¤šå™ªå£°ï¼Œéœ€é…åˆå…³é”®è¯å¼ºåŒ– |
| ç»´æŠ¤æˆæœ¬ | âœ… ä½ | ä¸€æ¬¡æ€§é…ç½® |
| é£é™©ç­‰çº§ | âœ… ä½ | å¯éšæ—¶å›æ»š |

**å®æ–½å»ºè®®**
- ä¼˜å…ˆçº§ï¼šâ­â­â­â­ï¼ˆæ¨èï¼‰
- é…åˆæ–¹æ¡ˆï¼šä¸æ–¹æ¡ˆ3çš„æ­£å‘é¢†åŸŸåˆ¤å®šç»“åˆä½¿ç”¨

**å®æ–½è¦ç‚¹**
- æ–°å¢åˆ†ç±»ï¼šstructural biology, cell biology, molecular biology
- è§‚å¯Ÿ1å‘¨æ•°æ®è´¨é‡ï¼Œè¯„ä¼°å™ªå£°æ¯”ä¾‹
- å¿…è¦æ—¶é€šè¿‡å…³é”®è¯å¢å¼ºè¿‡æ»¤

### 2.2 ç‰¹å¼‚æ€§ä¼˜åŒ–æ–¹æ¡ˆ

#### æ–¹æ¡ˆ3ï¼šåŒå‘ç­›é€‰æœºåˆ¶

**è®¾è®¡æ€è·¯**
- æ­£å‘åˆ¤å®šï¼šå®šä¹‰is_relevant_fieldå‡½æ•°ï¼Œæ£€æµ‹ç»“æ„ç”Ÿç‰©å­¦ç‰¹å¾
- è±å…æœºåˆ¶ï¼šåŒ…å«Cryo-EMã€Crystal structureã€NLRç­‰å…³é”®è¯çš„æ–‡ç« è±å…æ’é™¤è¯æ£€æŸ¥
- ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼šæ£€æµ‹"human"å‰åæ˜¯å¦æœ‰"not found in"ã€"homolog"ç­‰ä¿®é¥°è¯

**å¯è¡Œæ€§è¯„ä¼°**
| ç»´åº¦ | è¯„ä¼°ç»“æœ | è¯´æ˜ |
|------|---------|------|
| æŠ€æœ¯å¯è¡Œæ€§ | âš ï¸ ä¸­ | éœ€è®¾è®¡æ–°çš„è¿‡æ»¤é€»è¾‘ï¼Œå¢åŠ ä»£ç å¤æ‚åº¦ |
| ç²¾å‡†åº¦æå‡ | âœ… é«˜ | å¯æ˜¾è‘—é™ä½è¯¯æ€ç‡ |
| ç»´æŠ¤æˆæœ¬ | âš ï¸ ä¸­ | éœ€æŒç»­ä¼˜åŒ–è±å…è¯åˆ—è¡¨ |
| é£é™©ç­‰çº§ | âš ï¸ ä¸­ | é€»è¾‘å¤æ‚ï¼Œéœ€å……åˆ†æµ‹è¯• |

**å®æ–½å»ºè®®**
- ä¼˜å…ˆçº§ï¼šâ­â­â­ï¼ˆå»ºè®®ï¼‰
- åˆ†é˜¶æ®µå®æ–½ï¼šå…ˆå®ç°è±å…æœºåˆ¶ï¼Œåç»­è¿­ä»£ä¸Šä¸‹æ–‡æ„ŸçŸ¥

**å®æ–½è¦ç‚¹**
- å®šä¹‰STRUCTURE_KEYWORDSåˆ—è¡¨ï¼ˆCryo-EM, Crystal structure, Resistosomeç­‰ï¼‰
- åœ¨should_exclude_paperä¸­å¢åŠ è±å…åˆ¤æ–­
- ä¸Šä¸‹æ–‡æ£€æµ‹å¯é‡‡ç”¨ç®€å•çš„å‰å5è¯çª—å£è§„åˆ™

#### æ–¹æ¡ˆ4ï¼šç»“æ„å…³é”®è¯åŠ æƒ

**è®¾è®¡æ€è·¯**
- åœ¨ç°æœ‰è¯„åˆ†ç³»ç»Ÿä¸­ï¼Œå°†ç»“æ„ç”Ÿç‰©å­¦å…³é”®è¯æƒé‡ä»8åˆ†æå‡è‡³15åˆ†
- æ–°å¢é«˜ä»·å€¼å…³é”®è¯ï¼šResistosomeã€Inflammasomeã€Conformational change

**å¯è¡Œæ€§è¯„ä¼°**
| ç»´åº¦ | è¯„ä¼°ç»“æœ | è¯´æ˜ |
|------|---------|------|
| æŠ€æœ¯å¯è¡Œæ€§ | âœ… é«˜ | ä»…ä¿®æ”¹scoring.pyçš„æƒé‡å‚æ•° |
| æ•ˆæœå¯éªŒè¯æ€§ | âœ… é«˜ | å¯é€šè¿‡å†å²æ•°æ®å›æµ‹éªŒè¯ |
| ç»´æŠ¤æˆæœ¬ | âœ… ä½ | ä¸€æ¬¡æ€§è°ƒæ•´ |
| é£é™©ç­‰çº§ | âœ… ä½ | ä¸å½±å“å…¶ä»–è¯„åˆ†ç»´åº¦ |

**å®æ–½å»ºè®®**
- ä¼˜å…ˆçº§ï¼šâ­â­â­â­ï¼ˆæ¨èï¼‰
- å¿«é€Ÿè§æ•ˆï¼š1å¤©å†…å¯éƒ¨ç½²éªŒè¯

**å®æ–½è¦ç‚¹**
- æ‰©å±•struct_kwsåˆ—è¡¨
- è°ƒæ•´å•ä¸ªå…³é”®è¯æƒé‡ï¼š8åˆ† â†’ 15åˆ†
- è§‚å¯ŸTopKæ’åºå˜åŒ–

### 2.3 è¯„åˆ†ç³»ç»Ÿå‡çº§æ–¹æ¡ˆ

#### æ–¹æ¡ˆ5ï¼šPhDçº§æ‰“åˆ†ç³»ç»Ÿ

**è®¾è®¡æ€è·¯**
é‡‡ç”¨å…¬å¼ï¼š
```
Score = (Journal_Impact Ã— 15) + (Structure_Keywords Ã— 15) + (Freshness Ã— 0.5) + (Citation Ã— 2)
```

**åˆ†å±‚æ ‡å‡†**
- P0ï¼ˆScore > 50ï¼‰ï¼šNature/Science/Cellä¸Šçš„NLR/Cryo-EMç»“æ„è§£æï¼Œè‡ªåŠ¨ç½®é¡¶æ¨é€
- P1ï¼ˆScore 30-50ï¼‰ï¼šbioRxivæ–°ç»“æ„ã€GitHubæ–°å·¥å…·ã€é¡¶åˆŠç»¼è¿°
- P2ï¼ˆScore < 30ï¼‰ï¼šä¸€èˆ¬ç ”ç©¶ã€ä¿¡å·ä¼ å¯¼ç»¼è¿°

**å¯è¡Œæ€§è¯„ä¼°**
| ç»´åº¦ | è¯„ä¼°ç»“æœ | è¯´æ˜ |
|------|---------|------|
| æŠ€æœ¯å¯è¡Œæ€§ | âš ï¸ ä¸­ | éœ€è·å–æœŸåˆŠå½±å“å› å­æ•°æ® |
| æ•ˆæœæå‡ | âœ… é«˜ | å¯ç²¾å‡†è¯†åˆ«çªç ´æ€§å·¥ä½œ |
| ç»´æŠ¤æˆæœ¬ | âš ï¸ ä¸­ | éœ€ç»´æŠ¤æœŸåˆŠå½±å“å› å­æ˜ å°„è¡¨ |
| é£é™©ç­‰çº§ | âš ï¸ ä¸­ | é˜ˆå€¼éœ€é€šè¿‡å†å²æ•°æ®è°ƒä¼˜ |

**å®æ–½å»ºè®®**
- ä¼˜å…ˆçº§ï¼šâ­â­â­ï¼ˆå»ºè®®ï¼‰
- å‰ç½®æ¡ä»¶ï¼šå»ºç«‹æœŸåˆŠå½±å“å› å­æ˜ å°„è¡¨

**å®æ–½è¦ç‚¹**
- å»ºç«‹JOURNAL_IMPACT_MAPå­—å…¸
  - Nature/Science/Cell: 15
  - Molecular Plant/Plant Cell: 10
  - bioRxiv: 0
- è°ƒæ•´scoring.pyçš„score_paperå‡½æ•°
- åœ¨ranking.pyä¸­å¢åŠ åˆ†å±‚é€»è¾‘
- æ¨é€æ¨¡å—åŒºåˆ†P0/P1/P2å±•ç¤ºæ ·å¼

**æœŸåˆŠå½±å“å› å­æ˜ å°„ç¤ºä¾‹**
| æœŸåˆŠ | å½±å“å› å­æƒé‡ |
|------|-------------|
| Nature, Science, Cell | 15 |
| Natureå­åˆŠï¼ˆPlants, Chem Bio, SMBï¼‰ | 12 |
| Molecular Plant, Plant Cell | 10 |
| PNAS, PLoS Biology | 8 |
| bioRxiv, arXiv | 0 |

### 2.4 è¯Šæ–­æ—¥å¿—æ–¹æ¡ˆ

#### æ–¹æ¡ˆ6ï¼šæ•°æ®æ¼æ–—å¯è§†åŒ–

**è®¾è®¡æ€è·¯**
åœ¨fetchå¾ªç¯ä¸­å¢åŠ ç»Ÿè®¡è®¡æ•°å™¨ï¼Œè®°å½•æ¯ä¸ªè¿‡æ»¤é˜¶æ®µçš„è®ºæ–‡æ•°é‡å˜åŒ–ã€‚

**æ—¥å¿—è¾“å‡ºç¤ºä¾‹**
```
æ•°æ®æ¼æ–—åˆ†æ: {
  "total": 1247,
  "cat_match": 385,
  "kw_match": 142,
  "excluded": 58,
  "duplicate": 231,
  "final": 53
}
```

**å¯è¡Œæ€§è¯„ä¼°**
| ç»´åº¦ | è¯„ä¼°ç»“æœ | è¯´æ˜ |
|------|---------|------|
| æŠ€æœ¯å¯è¡Œæ€§ | âœ… é«˜ | ä»…å¢åŠ è®¡æ•°é€»è¾‘ |
| ä»·å€¼ | âœ… é«˜ | å¯å¿«é€Ÿå®šä½ç“¶é¢ˆ |
| ç»´æŠ¤æˆæœ¬ | âœ… ä½ | æ— æŒç»­ç»´æŠ¤è´Ÿæ‹… |
| é£é™©ç­‰çº§ | âœ… ä½ | ä¸å½±å“ä¸»æµç¨‹ |

**å®æ–½å»ºè®®**
- ä¼˜å…ˆçº§ï¼šâ­â­â­â­â­ï¼ˆå¼ºçƒˆæ¨èï¼‰
- å¿«é€Ÿå®æ–½ï¼š1å°æ—¶å†…å®Œæˆ

**å®æ–½è¦ç‚¹**
- åœ¨BioRxivSource.fetchå¼€å¤´åˆå§‹åŒ–statå­—å…¸
- åœ¨æ¯ä¸ªåˆ¤æ–­åˆ†æ”¯å¢åŠ è®¡æ•°
- åœ¨logger.infoè¾“å‡ºJSONæ ¼å¼ç»Ÿè®¡

## ä¸‰ã€ç»¼åˆä¼˜åŒ–ç­–ç•¥

### 3.1 åˆ†é˜¶æ®µå®æ–½è·¯å¾„

**ç¬¬ä¸€é˜¶æ®µï¼ˆç«‹å³å®æ–½ï¼‰**
| æ–¹æ¡ˆ | å·¥ä½œé‡ | é¢„æœŸæ•ˆæœ |
|------|--------|----------|
| æ–¹æ¡ˆ1ï¼šåŠ¨æ€åˆ†é¡µ | 2å°æ—¶ | å¬å›ç‡+65% |
| æ–¹æ¡ˆ4ï¼šç»“æ„å…³é”®è¯åŠ æƒ | 1å°æ—¶ | æ’åºå‡†ç¡®æ€§+30% |
| æ–¹æ¡ˆ6ï¼šè¯Šæ–­æ—¥å¿— | 1å°æ—¶ | å¯ç›‘æµ‹æ€§+100% |

**ç¬¬äºŒé˜¶æ®µï¼ˆ1å‘¨å†…å®æ–½ï¼‰**
| æ–¹æ¡ˆ | å·¥ä½œé‡ | é¢„æœŸæ•ˆæœ |
|------|--------|----------|
| æ–¹æ¡ˆ2ï¼šæ‰©å±•åˆ†ç±» | 0.5å°æ—¶ | å¬å›ç‡+15% |
| æ–¹æ¡ˆ3ï¼šè±å…æœºåˆ¶ | 3å°æ—¶ | è¯¯æ€ç‡-50% |

**ç¬¬ä¸‰é˜¶æ®µï¼ˆ2å‘¨å†…å®æ–½ï¼‰**
| æ–¹æ¡ˆ | å·¥ä½œé‡ | é¢„æœŸæ•ˆæœ |
|------|--------|----------|
| æ–¹æ¡ˆ5ï¼šåˆ†å±‚è¯„åˆ† | 8å°æ—¶ | è¯†åˆ«P0å‡†ç¡®ç‡+80% |
| æ–¹æ¡ˆ3ï¼šä¸Šä¸‹æ–‡æ„ŸçŸ¥ | 4å°æ—¶ | è¯¯æ€ç‡-30% |

### 3.2 é£é™©è¯„ä¼°ä¸ç¼“è§£

**é£é™©çŸ©é˜µ**
| é£é™©ç±»å‹ | å¯èƒ½æ€§ | å½±å“ | ç¼“è§£æªæ–½ |
|---------|-------|------|---------|
| é€šé‡å¢åŠ å¯¼è‡´å™ªå£°æå‡ | ä¸­ | ä¸­ | å…ˆéƒ¨ç½²è¯Šæ–­æ—¥å¿—ç›‘æµ‹ï¼Œå‘ç°é—®é¢˜ç«‹å³è°ƒæ•´ |
| åˆ†é¡µæ·±åº¦è¿‡å¤§è¶…æ—¶ | ä½ | ä½ | è®¾ç½®å•é¡µè¶…æ—¶30ç§’ï¼Œæ€»è¶…æ—¶3åˆ†é’Ÿ |
| è±å…é€»è¾‘å¼•å…¥è¯¯åˆ¤ | ä¸­ | ä½ | é‡‡ç”¨ç™½åå•æœºåˆ¶ï¼Œé€æ­¥æ‰©å±•è±å…è¯ |
| è¯„åˆ†é˜ˆå€¼ä¸å‡†ç¡® | ä¸­ | ä¸­ | ä½¿ç”¨æœ€è¿‘30å¤©å†å²æ•°æ®å›æµ‹è°ƒä¼˜ |

**å›æ»šç­–ç•¥**
- æ‰€æœ‰ä¿®æ”¹é€šè¿‡é…ç½®å‚æ•°æ§åˆ¶ï¼Œå¯å¿«é€Ÿå›é€€è‡³åŸå§‹é€»è¾‘
- ä¿ç•™æ—§ç‰ˆMAX_PAGES=5çš„é…ç½®é€‰é¡¹
- è±å…æœºåˆ¶è®¾ç½®å¼€å…³å˜é‡ENABLE_EXEMPTION

### 3.3 æˆåŠŸæŒ‡æ ‡

**é‡åŒ–æŒ‡æ ‡**
| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹å¼ |
|------|--------|--------|---------|
| æ¯æ—¥å€™é€‰è®ºæ–‡æ•° | 6ç¯‡ | 30-50ç¯‡ | è¯Šæ–­æ—¥å¿—finalå­—æ®µ |
| P0è®ºæ–‡å¬å›ç‡ | æœªçŸ¥ | 95%+ | äººå·¥å›æº¯éªŒè¯ |
| è¯¯æ€ç‡ï¼ˆäººå·¥å®¡æ ¸ï¼‰ | æœªçŸ¥ | <5% | éšæœºæŠ½å–50ç¯‡å·²æ’é™¤è®ºæ–‡ |
| æ¨é€è®ºæ–‡å¹³å‡å¾—åˆ† | æœªçŸ¥ | >40åˆ† | è¯„åˆ†ç³»ç»Ÿè¾“å‡º |
| å¤„ç†æ—¶é•¿ | ~15ç§’ | <90ç§’ | APIå“åº”æ—¶é—´ç›‘æµ‹ |

**å®šæ€§æŒ‡æ ‡**
- ç”¨æˆ·å¯¹æ¨é€å†…å®¹çš„æ»¡æ„åº¦åé¦ˆ
- P0çº§çªç ´æ€§å·¥ä½œçš„åŠæ—¶æ€§ï¼ˆå‘è¡¨å½“å¤©æ¨é€ï¼‰
- è·¨å­¦ç§‘ç»“æ„ç”Ÿç‰©å­¦è®ºæ–‡çš„è¦†ç›–å¹¿åº¦

## å››ã€å¯è¡Œæ€§æ€»ç»“

### 4.1 æ€»ä½“è¯„ä¼°

**æŠ€æœ¯å¯è¡Œæ€§ï¼šâ­â­â­â­ï¼ˆé«˜ï¼‰**
- æ‰€æœ‰æ–¹æ¡ˆå‡åŸºäºç°æœ‰æ¶æ„æ‰©å±•ï¼Œæ— éœ€é‡æ„
- bioRxiv APIã€è¯„åˆ†ç³»ç»Ÿå‡æ”¯æŒæ‰€éœ€åŠŸèƒ½
- Pythonç”Ÿæ€æˆç†Ÿï¼Œæ— æŠ€æœ¯é£é™©

**æŠ•å…¥äº§å‡ºæ¯”ï¼šâ­â­â­â­â­ï¼ˆéå¸¸é«˜ï¼‰**
- ç¬¬ä¸€é˜¶æ®µ4å°æ—¶å·¥ä½œé‡ï¼Œå¯æå‡å¬å›ç‡80%+
- å…¨éƒ¨å®æ–½15å°æ—¶ï¼Œå¯è¾¾åˆ°PhDçº§ç­›é€‰æ°´å¹³

**ç»´æŠ¤æˆæœ¬ï¼šâ­â­â­ï¼ˆä¸­ç­‰ï¼‰**
- è±å…è¯ã€æœŸåˆŠå½±å“å› å­éœ€å®šæœŸæ›´æ–°
- è¯Šæ–­æ—¥å¿—éœ€å®šæœŸæŸ¥çœ‹ä¼˜åŒ–

### 4.2 æ ¸å¿ƒå»ºè®®

**å¿…é¡»å®æ–½ï¼ˆP0ï¼‰**
1. æ–¹æ¡ˆ1ï¼ˆåŠ¨æ€åˆ†é¡µï¼‰ï¼šè§£å†³æ ¹æœ¬æ€§çš„é€šé‡ç“¶é¢ˆ
2. æ–¹æ¡ˆ6ï¼ˆè¯Šæ–­æ—¥å¿—ï¼‰ï¼šæä¾›æŒç»­ä¼˜åŒ–çš„æ•°æ®åŸºç¡€

**å¼ºçƒˆæ¨èï¼ˆP1ï¼‰**
3. æ–¹æ¡ˆ4ï¼ˆç»“æ„å…³é”®è¯åŠ æƒï¼‰ï¼šå¿«é€Ÿæå‡æ’åºå‡†ç¡®æ€§
4. æ–¹æ¡ˆ2ï¼ˆæ‰©å±•åˆ†ç±»ï¼‰ï¼šä½æˆæœ¬é«˜æ”¶ç›Š

**å»ºè®®å®æ–½ï¼ˆP2ï¼‰**
5. æ–¹æ¡ˆ3ï¼ˆåŒå‘ç­›é€‰ï¼‰ï¼šæ˜¾è‘—é™ä½è¯¯æ€ç‡
6. æ–¹æ¡ˆ5ï¼ˆåˆ†å±‚è¯„åˆ†ï¼‰ï¼šå®ç°P0/P1/P2è‡ªåŠ¨åˆ†çº§

### 4.3 ä¸å»ºè®®æ–¹æ¡ˆ

**ä¸Šä¸‹æ–‡NLPåˆ†æï¼ˆè¿‡åº¦å·¥ç¨‹ï¼‰**
- åŸå› ï¼šç®€å•è§„åˆ™å³å¯è¦†ç›–90%åœºæ™¯ï¼ŒLLMæˆæœ¬é«˜ä¸”ä¸ç¨³å®š
- æ›¿ä»£ï¼šé‡‡ç”¨æ–¹æ¡ˆ3çš„çª—å£è§„åˆ™

**å®æ—¶å…¨åº“æ‰«æï¼ˆèµ„æºæµªè´¹ï¼‰**
- åŸå› ï¼šbioRxivæ—¥æ›´æ–°é‡æœ‰é™ï¼Œå…¨åº“æ‰«ææ— å¿…è¦
- æ›¿ä»£ï¼šåŠ¨æ€åˆ†é¡µå·²è¶³å¤Ÿ

## äº”ã€å®æ–½æ£€æŸ¥æ¸…å•

### 5.1 ä»£ç ä¿®æ”¹æ¸…å•

**BioRxivSource (app/sources/biorxiv.py)**
- [ ] MAX_PAGES: 5 â†’ 20
- [ ] å¢åŠ æ—¶é—´æ—©é€€æœºåˆ¶
- [ ] å¢åŠ è¯Šæ–­æ—¥å¿—statå­—å…¸
- [ ] æ¯é¡µå¾ªç¯å¢åŠ æ—¥æœŸè¾¹ç•Œæ£€æŸ¥

**Config (app/config.py)**
- [ ] TARGET_CATEGORIESæ–°å¢ï¼šstructural biology, cell biology, molecular biology
- [ ] æ–°å¢STRUCTURE_KEYWORDSåˆ—è¡¨
- [ ] æ–°å¢JOURNAL_IMPACT_MAPå­—å…¸

**Scoring (app/scoring.py)**
- [ ] ç»“æ„å…³é”®è¯æƒé‡ï¼š8 â†’ 15
- [ ] æ–°å¢æœŸåˆŠå½±å“å› å­è¯„åˆ†ç»´åº¦
- [ ] æ‰©å±•struct_kwsåˆ—è¡¨

**Filtering (app/filtering.py)**
- [ ] æ–°å¢is_relevant_fieldå‡½æ•°
- [ ] should_exclude_paperå¢åŠ è±å…é€»è¾‘
- [ ] æ–°å¢ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ£€æµ‹ï¼ˆå¯é€‰ï¼‰

**Ranking (app/ranking.py)**
- [ ] æ–°å¢åˆ†å±‚é€»è¾‘ï¼ˆP0/P1/P2ï¼‰
- [ ] è°ƒæ•´TopKé€‰æ‹©ç­–ç•¥

### 5.2 æµ‹è¯•éªŒè¯æ¸…å•

**å•å…ƒæµ‹è¯•**
- [ ] æ—¶é—´æ—©é€€æœºåˆ¶è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- [ ] è±å…é€»è¾‘æ­£è´Ÿæ ·æœ¬æµ‹è¯•
- [ ] è¯„åˆ†å…¬å¼æç«¯å€¼æµ‹è¯•

**é›†æˆæµ‹è¯•**
- [ ] ä½¿ç”¨æœ€è¿‘7å¤©çœŸå®æ•°æ®è¿è¡Œï¼Œæ£€æŸ¥è¯Šæ–­æ—¥å¿—
- [ ] å¯¹æ¯”ä¼˜åŒ–å‰åçš„å€™é€‰è®ºæ–‡æ•°é‡
- [ ] äººå·¥å®¡æ ¸Top20è®ºæ–‡è´¨é‡

**å›å½’æµ‹è¯•**
- [ ] å†å²30å¤©æ•°æ®å›æµ‹ï¼ŒéªŒè¯P0è®ºæ–‡å¬å›ç‡
- [ ] æ£€æŸ¥è¯¯æ€ç‡æ˜¯å¦åœ¨å¯æ¥å—èŒƒå›´

### 5.3 éƒ¨ç½²é…ç½®æ¸…å•

**ç¯å¢ƒå˜é‡ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰**
- [ ] DEEPSEEK_API_KEYï¼šç¡®ä¿å·²é…ç½®
- [ ] WXPUSHER_TOKENï¼šç¡®ä¿å·²é…ç½®
- [ ] MAX_PAGESï¼šå¯é…ç½®ä¸ºç¯å¢ƒå˜é‡ï¼ˆé»˜è®¤20ï¼‰

**æ•°æ®åº“**
- [ ] ç¡®è®¤sent_papersè¡¨å·²åˆå§‹åŒ–
- [ ] æ£€æŸ¥ç´¢å¼•æ€§èƒ½

**ç›‘æ§å‘Šè­¦**
- [ ] è®¾ç½®è¯Šæ–­æ—¥å¿—ç›‘æ§ï¼Œå½“final<10æ—¶å‘Šè­¦
- [ ] APIè¶…æ—¶ç›‘æ§ï¼ˆ>90ç§’å‘Šè­¦ï¼‰

## å…­ã€é¢„æœŸæ•ˆæœå¯¹æ¯”

### 6.1 æ•°æ®æµå¯¹æ¯”

**ä¼˜åŒ–å‰**
```
APIè¿”å›1247ç¯‡ 
â†’ åˆ†ç±»ç­›é€‰385ç¯‡ï¼ˆ30.8%ï¼‰ 
â†’ å…³é”®è¯åŒ¹é…142ç¯‡ï¼ˆ11.4%ï¼‰ 
â†’ æ’é™¤è¯è¿‡æ»¤84ç¯‡ï¼ˆ6.7%ï¼‰ 
â†’ å»é‡å6ç¯‡ï¼ˆ0.5%ï¼‰ âŒ
```

**ä¼˜åŒ–å**
```
APIè¿”å›2000ç¯‡ï¼ˆåˆ†é¡µå¢åŠ ï¼‰ 
â†’ åˆ†ç±»ç­›é€‰800ç¯‡ï¼ˆ40%ï¼Œæ‰©å±•åˆ†ç±»ï¼‰ 
â†’ å…³é”®è¯åŒ¹é…320ç¯‡ï¼ˆ16%ï¼‰ 
â†’ æ’é™¤è¯è¿‡æ»¤280ç¯‡ï¼ˆ14%ï¼Œè±å…æœºåˆ¶ï¼‰ 
â†’ å»é‡å45ç¯‡ï¼ˆ2.25%ï¼‰ âœ…
â†’ P0çº§8ç¯‡ï¼ŒP1çº§22ç¯‡ï¼ŒP2çº§15ç¯‡
```

### 6.2 å…¸å‹åœºæ™¯æ”¹è¿›

**åœºæ™¯1ï¼šNature Plantsçš„NLR Cryo-EMç»“æ„**
| é˜¶æ®µ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| åˆ†ç±»åŒ¹é… | âœ… é€šè¿‡ | âœ… é€šè¿‡ |
| å…³é”®è¯åŒ¹é… | âœ… é€šè¿‡ | âœ… é€šè¿‡ |
| æ’é™¤è¯æ£€æŸ¥ | âœ… é€šè¿‡ | âœ… é€šè¿‡ |
| è¯„åˆ† | 38åˆ†ï¼ˆé¡¶åˆŠ20+å…³é”®è¯8+æ–°é²œåº¦10ï¼‰ | 62åˆ†ï¼ˆé¡¶åˆŠ15Ã—1+å…³é”®è¯15Ã—2+æ–°é²œåº¦10+å½±å“å› å­2ï¼‰ |
| æ’å | Top 5å¯èƒ½æœªå…¥é€‰ | P0çº§ï¼Œè‡ªåŠ¨ç½®é¡¶ âœ… |

**åœºæ™¯2ï¼šbioRxivä¸Šçš„"Plant NLR structure and human TLR homolog comparison"**
| é˜¶æ®µ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| åˆ†ç±»åŒ¹é… | âœ… é€šè¿‡ | âœ… é€šè¿‡ |
| å…³é”®è¯åŒ¹é… | âœ… é€šè¿‡ï¼ˆNLR, structureï¼‰ | âœ… é€šè¿‡ |
| æ’é™¤è¯æ£€æŸ¥ | âŒ è¢«æ’é™¤ï¼ˆå«humanï¼‰ | âœ… è±å…é€šè¿‡ï¼ˆå«Cryo-EMï¼‰ |
| è¯„åˆ† | - | 32åˆ†ï¼ˆå…³é”®è¯15Ã—2+æ–°é²œåº¦2ï¼‰ |
| æ’å | - | P1çº§ âœ… |

**åœºæ™¯3ï¼šCell Biologyåˆ†ç±»ä¸‹çš„æ¤ç‰©å—ä½“Cryo-EMç»“æ„**
| é˜¶æ®µ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| åˆ†ç±»åŒ¹é… | âŒ æœªåŒ…å«cell biology | âœ… é€šè¿‡ï¼ˆæ–°å¢åˆ†ç±»ï¼‰ |
| å…³é”®è¯åŒ¹é… | - | âœ… é€šè¿‡ï¼ˆreceptor, Cryo-EMï¼‰ |
| æ’é™¤è¯æ£€æŸ¥ | - | âœ… é€šè¿‡ |
| è¯„åˆ† | - | 45åˆ†ï¼ˆå…³é”®è¯15Ã—2+æ–°é²œåº¦15ï¼‰ |
| æ’å | - | P1çº§ âœ… |

### 6.3 èµ„æºæ¶ˆè€—å¯¹æ¯”

| ç»´åº¦ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | å˜åŒ– |
|------|--------|--------|------|
| APIè¯·æ±‚æ•° | 5æ¬¡ | æœ€å¤š20æ¬¡ | +300% |
| å¤„ç†æ—¶é•¿ | 15ç§’ | 60-90ç§’ | +400% |
| å†…å­˜å ç”¨ | ~10MB | ~30MB | +200% |
| æ•°æ®åº“å†™å…¥ | 6æ¡/å¤© | 45æ¡/å¤© | +650% |
| æ¨é€æ¶ˆæ¯å¤§å° | ~2KB | ~15KB | +650% |

**å¯æ¥å—æ€§åˆ†æ**
- å¤„ç†æ—¶é•¿ï¼š90ç§’ä»è¿œä½äºå®šæ—¶ä»»åŠ¡é—´éš”ï¼ˆé€šå¸¸æ¯æ—¥1æ¬¡ï¼‰
- èµ„æºæ¶ˆè€—ï¼šå¢åŠ é‡åœ¨æœåŠ¡å™¨æ‰¿å—èŒƒå›´å†…
- æˆæœ¬ï¼šbioRxiv APIå…è´¹ï¼Œæ— é¢å¤–è´¹ç”¨

## ä¸ƒã€åç»­ä¼˜åŒ–æ–¹å‘

### 7.1 ä¸­æœŸä¼˜åŒ–ï¼ˆ1-3ä¸ªæœˆï¼‰

**æ™ºèƒ½å»é‡å¢å¼º**
- åŸºäºæ ‡é¢˜è¯­ä¹‰ç›¸ä¼¼åº¦çš„å»é‡ï¼ˆé¿å…åŒä¸€å·¥ä½œçš„é¢„å°æœ¬ã€æ­£å¼ç‰ˆé‡å¤ï¼‰
- DOIè§„èŒƒåŒ–å¤„ç†å¢å¼º

**å¤šæ•°æ®æºååŒ**
- è·¨æºå»é‡ä¼˜åŒ–ï¼ˆPubMedã€bioRxivåŒä¸€è®ºæ–‡è¯†åˆ«ï¼‰
- æ•°æ®æºä¼˜å…ˆçº§åŠ¨æ€è°ƒæ•´

**ç”¨æˆ·åé¦ˆé—­ç¯**
- æ¨é€æ¶ˆæ¯å¢åŠ "æœ‰ç”¨/æ— ç”¨"åé¦ˆæŒ‰é’®
- æ ¹æ®åé¦ˆè°ƒæ•´è¯„åˆ†æƒé‡

### 7.2 é•¿æœŸä¼˜åŒ–ï¼ˆ3-6ä¸ªæœˆï¼‰

**LLMå¢å¼ºç­›é€‰**
- ä½¿ç”¨DeepSeekå¯¹æ‘˜è¦è¿›è¡Œä¸‰å¤§æ–¹å‘ç›¸å…³æ€§åˆ¤æ–­
- ä»…å¯¹è¯„åˆ†30-50çš„P1è®ºæ–‡è°ƒç”¨LLMç²¾ç­›ï¼ˆæˆæœ¬å¯æ§ï¼‰

**çŸ¥è¯†å›¾è°±æ„å»º**
- è¿½è¸ªå…³é”®è¯¾é¢˜ç»„çš„æœ€æ–°å·¥ä½œ
- è¯†åˆ«ç ”ç©¶çƒ­ç‚¹è¶‹åŠ¿

**ä¸ªæ€§åŒ–æ¨é€**
- æ”¯æŒå¤šç”¨æˆ·ä¸åŒç ”ç©¶æ–¹å‘é…ç½®
- æ¯ç”¨æˆ·ç‹¬ç«‹çš„è¯„åˆ†æ¨¡å‹

## å…«ã€æµ‹è¯•å…¼å®¹æ€§ä¿éšœæ–¹æ¡ˆ

### 8.1 ç°æœ‰æµ‹è¯•æ–‡ä»¶åˆ†æ

**æµ‹è¯•æ–‡ä»¶æ¸…å•**
| æ–‡ä»¶å | ç”¨é€” | å…³é”®ä¾èµ– |
|--------|------|----------|
| test_ui.py | Streamlitå¯è§†åŒ–æµ‹è¯•ç•Œé¢ | æ‰€æœ‰æ•°æ®æºç±»çš„fetchæ–¹æ³•ç­¾å |
| test_sources_detail.py | è¯¦ç»†æµ‹è¯•å„æ•°æ®æºå‚æ•°è°ƒä¼˜ | æ•°æ®æºç±»çš„window_daysã€fetchæ–¹æ³• |
| test_sources_now.py | å¿«é€Ÿæµ‹è¯•æ‰€æœ‰æ•°æ®æºè¿é€šæ€§ | æ•°æ®æºç±»çš„åŸºæœ¬æ¥å£ |

**å…³é”®ä¾èµ–é¡¹**
- æ•°æ®æºç±»æ¥å£ï¼š`fetch(sent_ids: Set[str], exclude_keywords: List[str]) -> SourceResult`
- é…ç½®é¡¹ï¼š`Config.EXCLUDE_KEYWORDS`, `Config.RESEARCH_TOPICS`, `Config.TARGET_CATEGORIES`
- æ•°æ®æ¨¡å‹ï¼š`Paper`, `SourceResult`
- è¿‡æ»¤å‡½æ•°ï¼š`should_exclude_paper()`, `is_recent_date()`

### 8.2 å…¼å®¹æ€§é£é™©ç‚¹è¯†åˆ«

**é«˜é£é™©å˜æ›´ï¼ˆç¦æ­¢ï¼‰**
| å˜æ›´ç±»å‹ | å½±å“èŒƒå›´ | ç¼“è§£æªæ–½ |
|---------|---------|----------|
| ä¿®æ”¹fetchæ–¹æ³•ç­¾å | æ‰€æœ‰æµ‹è¯•æ–‡ä»¶å¤±æ•ˆ | âŒ ä¸¥æ ¼ç¦æ­¢ï¼Œä¿æŒå‘åå…¼å®¹ |
| åˆ é™¤Configå±æ€§ | test_ui.pyç•Œé¢æŠ¥é”™ | âŒ ä»…å…è®¸æ–°å¢ï¼Œä¸å…è®¸åˆ é™¤ |
| ä¿®æ”¹Paperæ¨¡å‹å¿…å¡«å­—æ®µ | æµ‹è¯•æ•°æ®æ„é€ å¤±è´¥ | âŒ æ–°å¢å­—æ®µå¿…é¡»æœ‰é»˜è®¤å€¼ |

**ä¸­é£é™©å˜æ›´ï¼ˆéœ€éªŒè¯ï¼‰**
| å˜æ›´ç±»å‹ | å½±å“èŒƒå›´ | ç¼“è§£æªæ–½ |
|---------|---------|----------|
| ä¿®æ”¹MAX_PAGESé»˜è®¤å€¼ | test_ui.pyæ˜¾ç¤ºä¸ä¸€è‡´ | âœ… é€šè¿‡é…ç½®å‚æ•°æ§åˆ¶ï¼Œä¿ç•™æ—§å€¼é€‰é¡¹ |
| æ–°å¢Configå±æ€§ | éœ€è¦åœ¨test_ui.pyåŒæ­¥å±•ç¤º | âœ… æä¾›é»˜è®¤å€¼ï¼Œæµ‹è¯•è‡ªåŠ¨ç»§æ‰¿ |
| ä¿®æ”¹è¿‡æ»¤é€»è¾‘å†…éƒ¨å®ç° | æµ‹è¯•ç»“æœæ•°é‡å˜åŒ– | âœ… ä¿æŒå‡½æ•°ç­¾åä¸å˜å³å¯ |

**ä½é£é™©å˜æ›´ï¼ˆå®‰å…¨ï¼‰**
| å˜æ›´ç±»å‹ | å½±å“ | è¯´æ˜ |
|---------|------|------|
| æ–°å¢è¯„åˆ†ç»´åº¦ | æ—  | è¯„åˆ†ç³»ç»Ÿå¯¹æµ‹è¯•é€æ˜ |
| ä¼˜åŒ–æ—¥å¿—è¾“å‡º | æ—  | æµ‹è¯•ä¸ä¾èµ–æ—¥å¿—æ ¼å¼ |
| æ•°æ®åº“schemaå˜æ›´ | æ—  | æµ‹è¯•ä½¿ç”¨ç‹¬ç«‹sent_ids |

### 8.3 å‘åå…¼å®¹è®¾è®¡åŸåˆ™

**åŸåˆ™1ï¼šæ¥å£ä¸å˜æ€§**
æ‰€æœ‰ä¼˜åŒ–å‡åœ¨ç±»å†…éƒ¨å®ç°ï¼Œä¸æ”¹å˜å…¬å¼€æ¥å£ã€‚

**å®æ–½è¦ç‚¹**
- BioRxivSource.fetch() ç­¾åä¿æŒä¸å˜
- MAX_PAGES ä»å¸¸é‡æ”¹ä¸ºç±»å±æ€§ï¼Œå¯é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥
- è¯Šæ–­æ—¥å¿—ä½œä¸ºå¯é€‰åŠŸèƒ½ï¼Œé»˜è®¤å…³é—­

**ä»£ç ç¤ºä¾‹ï¼ˆå‘åå…¼å®¹çš„å‚æ•°æ‰©å±•ï¼‰**
```
æ—§ç‰ˆè°ƒç”¨ï¼š
source = BioRxivSource(window_days=7)

æ–°ç‰ˆè°ƒç”¨ï¼ˆæµ‹è¯•æ— éœ€ä¿®æ”¹ï¼‰ï¼š
source = BioRxivSource(window_days=7)  # é»˜è®¤max_pages=20

é«˜çº§è°ƒç”¨ï¼ˆç”Ÿäº§ç¯å¢ƒå¯é€‰ï¼‰ï¼š
source = BioRxivSource(window_days=7, max_pages=20, enable_diagnostic=True)
```

**åŸåˆ™2ï¼šé…ç½®å¯å›é€€**
æ‰€æœ‰æ–°å¢é…ç½®é¡¹é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é»˜è®¤å€¼æ§åˆ¶ï¼Œå¯å¿«é€Ÿå›é€€åˆ°åŸå§‹è¡Œä¸ºã€‚

**å®æ–½è¦ç‚¹**
- TARGET_CATEGORIES æ‰©å±•ä¸ºæ–°æ—§ä¸¤ç‰ˆï¼Œé€šè¿‡å¼€å…³åˆ‡æ¢
- ENABLE_EXEMPTION å¼€å…³æ§åˆ¶è±å…æœºåˆ¶
- MAX_PAGES ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§é«˜äºç¡¬ç¼–ç 

**é…ç½®åˆ†å±‚ç¤ºä¾‹**
| é…ç½®é¡¹ | é»˜è®¤å€¼ | ç¯å¢ƒå˜é‡ | æµ‹è¯•ç¯å¢ƒ | ç”Ÿäº§ç¯å¢ƒ |
|--------|--------|---------|----------|----------|
| MAX_PAGES | 5 | BIORXIV_MAX_PAGES | 5 | 20 |
| ENABLE_EXEMPTION | False | ENABLE_EXEMPTION | False | True |
| ENABLE_DIAGNOSTIC | False | ENABLE_DIAGNOSTIC | False | True |

**åŸåˆ™3ï¼šæµ‹è¯•æ•°æ®éš”ç¦»**
æµ‹è¯•æ–‡ä»¶ä½¿ç”¨ç‹¬ç«‹çš„å‚æ•°é…ç½®ï¼Œä¸å½±å“ç”Ÿäº§ç¯å¢ƒã€‚

**å®æ–½è¦ç‚¹**
- test_ui.py é€šè¿‡ç•Œé¢å‚æ•°ç‹¬ç«‹æ§åˆ¶å„æ•°æ®æºè¡Œä¸º
- test_sources_detail.py é€šè¿‡ä¸´æ—¶å˜é‡è¦†ç›–é»˜è®¤é…ç½®
- æµ‹è¯•ä½¿ç”¨ `sent_ids.copy()` é¿å…æ±¡æŸ“å†å²è®°å½•

### 8.4 æµ‹è¯•ä¿éšœæ–¹æ¡ˆ

#### æ–¹æ¡ˆAï¼šå‚æ•°åŒ–æ•°æ®æºç±»ï¼ˆæ¨èï¼‰

**è®¾è®¡æ€è·¯**
å°†MAX_PAGESã€ENABLE_EXEMPTIONç­‰ä»å…¨å±€å¸¸é‡æ”¹ä¸ºç±»å±æ€§ï¼Œæ”¯æŒå®ä¾‹åŒ–æ—¶ä¼ å…¥ã€‚

**BioRxivSource æ”¹é€ ç¤ºä¾‹**
```
ç°æœ‰è®¾è®¡ï¼š
MAX_PAGES = 5  # å…¨å±€å¸¸é‡

class BioRxivSource:
    def fetch(...):
        for page in range(MAX_PAGES):  # ç¡¬ç¼–ç 
            ...

ä¼˜åŒ–åè®¾è®¡ï¼š
class BioRxivSource:
    def __init__(self, window_days=None, max_pages=None, enable_diagnostic=False):
        self.window_days = window_days or Config.DEFAULT_WINDOW_DAYS
        self.max_pages = max_pages or Config.BIORXIV_MAX_PAGES or 5  # å‘åå…¼å®¹
        self.enable_diagnostic = enable_diagnostic
    
    def fetch(...):
        for page in range(self.max_pages):  # ä½¿ç”¨å®ä¾‹å±æ€§
            ...
```

**æµ‹è¯•æ–‡ä»¶å…¼å®¹æ€§**
- test_ui.py: é€šè¿‡ç•Œé¢inputç›´æ¥ä¼ å…¥max_pageså‚æ•°ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 
- test_sources_detail.py: ä¿æŒé»˜è®¤è°ƒç”¨ `BioRxivSource()`ï¼Œè¡Œä¸ºä¸å˜
- test_sources_now.py: ä¿æŒé»˜è®¤è°ƒç”¨ï¼Œè¡Œä¸ºä¸å˜

**ä¼˜ç‚¹**
- å®Œå…¨å‘åå…¼å®¹ï¼Œæµ‹è¯•é›¶ä¿®æ”¹
- çµæ´»æ€§é«˜ï¼Œå¯é’ˆå¯¹ä¸åŒåœºæ™¯å®šåˆ¶å‚æ•°
- ç¬¦åˆé¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™

#### æ–¹æ¡ˆBï¼šé…ç½®å¼€å…³æ§åˆ¶ï¼ˆå¤‡é€‰ï¼‰

**è®¾è®¡æ€è·¯**
åœ¨Configä¸­å¢åŠ å¼€å…³å˜é‡ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶æ–°åŠŸèƒ½æ˜¯å¦å¯ç”¨ã€‚

**Config æ–°å¢é…ç½®**
```
class Config:
    # ä¼˜åŒ–å¼€å…³
    BIORXIV_MAX_PAGES = int(os.getenv("BIORXIV_MAX_PAGES", "5"))  # é»˜è®¤5é¡µ
    ENABLE_EXEMPTION = os.getenv("ENABLE_EXEMPTION", "False") == "True"  # é»˜è®¤å…³é—­
    ENABLE_DIAGNOSTIC = os.getenv("ENABLE_DIAGNOSTIC", "False") == "True"  # é»˜è®¤å…³é—­
    
    # æ‰©å±•åˆ†ç±»ï¼ˆå‘åå…¼å®¹ï¼‰
    TARGET_CATEGORIES_V1 = ['plant biology', 'biochemistry', ...]  # åŸç‰ˆ
    TARGET_CATEGORIES_V2 = [..., 'structural biology', 'cell biology']  # æ‰©å±•ç‰ˆ
    
    @classmethod
    def get_target_categories(cls):
        version = os.getenv("TARGET_CATEGORIES_VERSION", "1")
        return cls.TARGET_CATEGORIES_V2 if version == "2" else cls.TARGET_CATEGORIES_V1
```

**æµ‹è¯•ç¯å¢ƒé…ç½®**
æµ‹è¯•æ–‡ä»¶ä¸è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä½¿ç”¨æ—§ç‰ˆè¡Œä¸ºã€‚

**ç”Ÿäº§ç¯å¢ƒé…ç½®**
åœ¨éƒ¨ç½²å¹³å°è®¾ç½®ç¯å¢ƒå˜é‡å¯ç”¨ä¼˜åŒ–ï¼š
- BIORXIV_MAX_PAGES=20
- ENABLE_EXEMPTION=True
- TARGET_CATEGORIES_VERSION=2

**ä¼˜ç‚¹**
- æµ‹è¯•é›¶ä¿®æ”¹ï¼Œé»˜è®¤æ—§ç‰ˆè¡Œä¸º
- ç”Ÿäº§ç¯å¢ƒç‹¬ç«‹æ§åˆ¶
- å¯å¿«é€Ÿå›æ»šï¼ˆä¿®æ”¹ç¯å¢ƒå˜é‡å³å¯ï¼‰

**ç¼ºç‚¹**
- çµæ´»æ€§ä¸å¦‚æ–¹æ¡ˆA
- éœ€è¦ç»´æŠ¤å¤šç‰ˆæœ¬é…ç½®

### 8.5 æµ‹è¯•éªŒè¯æ¸…å•

**å•å…ƒæµ‹è¯•ï¼ˆä¼˜åŒ–å‰æ‰§è¡Œï¼‰**
- [ ] è¿è¡Œ `python test_sources_now.py`ï¼Œè®°å½•å„æ•°æ®æºæ•°é‡åŸºçº¿
- [ ] è¿è¡Œ `streamlit run test_ui.py`ï¼ŒéªŒè¯ç•Œé¢æ­£å¸¸åŠ è½½
- [ ] è¿è¡Œ `python test_sources_detail.py`ï¼Œè®°å½•bioRxivè¯¦ç»†æ•°æ®

**é›†æˆæµ‹è¯•ï¼ˆä¼˜åŒ–åæ‰§è¡Œï¼‰**
- [ ] æµ‹è¯•é»˜è®¤è°ƒç”¨ï¼š`source = BioRxivSource()` è¡Œä¸ºä¸ä¼˜åŒ–å‰ä¸€è‡´
- [ ] æµ‹è¯•æ–°å‚æ•°è°ƒç”¨ï¼š`source = BioRxivSource(max_pages=20)` è¿”å›æ›´å¤šç»“æœ
- [ ] è¿è¡Œ `streamlit run test_ui.py`ï¼ŒéªŒè¯ç•Œé¢åŠŸèƒ½æ­£å¸¸
- [ ] åœ¨test_ui.pyä¸­è°ƒæ•´bio_pages=20ï¼ŒéªŒè¯ç»“æœå¢åŠ 

**å›å½’æµ‹è¯•**
- [ ] å¯¹æ¯”ä¼˜åŒ–å‰åtest_sources_now.pyçš„è¾“å‡ºï¼Œç¡®è®¤é»˜è®¤è¡Œä¸ºä¸å˜
- [ ] ä½¿ç”¨ç›¸åŒå‚æ•°è¿è¡Œtest_sources_detail.pyï¼Œå¯¹æ¯”è¾“å‡ºä¸€è‡´æ€§
- [ ] æ£€æŸ¥test_ui.pyä¸­å„æ•°æ®æºtabåŠŸèƒ½å®Œæ•´æ€§

### 8.6 æµ‹è¯•æ–‡ä»¶å¢å¼ºå»ºè®®ï¼ˆå¯é€‰ï¼‰

#### å»ºè®®1ï¼šåœ¨test_ui.pyä¸­å¢åŠ ä¼˜åŒ–å‚æ•°é€‰é¡¹

**bioRxiv Tab æ–°å¢æ§ä»¶**
åœ¨test_ui.pyçš„ç¬¬66-75è¡ŒåŒºåŸŸå¢åŠ é«˜çº§é€‰é¡¹ï¼š

```
å¢åŠ æ§ä»¶ä½ç½®ï¼šç¬¬75è¡Œä¹‹å

with st.expander("ğŸ”§ é«˜çº§ä¼˜åŒ–é€‰é¡¹", expanded=False):
    enable_exemption = st.checkbox("å¯ç”¨è±å…æœºåˆ¶ï¼ˆç»“æ„ç”Ÿç‰©å­¦å…³é”®è¯ï¼‰", value=False)
    enable_diagnostic = st.checkbox("å¯ç”¨è¯Šæ–­æ—¥å¿—", value=False)
```

**ä¼ å‚æ–¹å¼**
```
ä¿®æ”¹ç¬¬80è¡Œå®ä¾‹åŒ–ä»£ç ï¼š
source = BioRxivSource(
    window_days=bio_window,
    max_pages=bio_pages,
    enable_exemption=enable_exemption,
    enable_diagnostic=enable_diagnostic
)
```

**é¢„æœŸæ•ˆæœ**
- é»˜è®¤å…³é—­ä¼˜åŒ–åŠŸèƒ½ï¼Œæµ‹è¯•åŸå§‹è¡Œä¸º
- å¼€å¯åå¯åœ¨ç•Œé¢å®æ—¶å¯¹æ¯”ä¼˜åŒ–æ•ˆæœ
- è¯Šæ–­æ—¥å¿—ç›´æ¥åœ¨ç•Œé¢å±•ç¤ºæ•°æ®æ¼æ–—

#### å»ºè®®2ï¼šå¢åŠ A/Bå¯¹æ¯”æµ‹è¯•åŠŸèƒ½

**æ–°å¢Tabï¼šä¼˜åŒ–æ•ˆæœå¯¹æ¯”**
åœ¨test_ui.pyä¸­æ–°å¢ç¬¬8ä¸ªTabï¼Œå¹¶æ’å¯¹æ¯”ä¼˜åŒ–å‰åæ•ˆæœã€‚

**ç•Œé¢å¸ƒå±€**
```
å·¦å³åˆ†æ ï¼š
å·¦ä¾§ï¼šæ—§ç‰ˆå‚æ•°ï¼ˆmax_pages=5, æ— è±å…ï¼‰
å³ä¾§ï¼šæ–°ç‰ˆå‚æ•°ï¼ˆmax_pages=20, è±å…æœºåˆ¶ï¼‰

å¯¹æ¯”æŒ‡æ ‡ï¼š
- å€™é€‰è®ºæ–‡æ•°
- P0/P1/P2åˆ†å¸ƒ
- å¤„ç†æ—¶é•¿
- æ•°æ®æ¼æ–—å„é˜¶æ®µæ•°é‡
```

**ä»·å€¼**
- ç›´è§‚éªŒè¯ä¼˜åŒ–æ•ˆæœ
- å¿«é€Ÿå‘ç°é—®é¢˜
- è¾…åŠ©å‚æ•°è°ƒä¼˜

### 8.7 æŒç»­é›†æˆå»ºè®®

**Git Pre-commit Hook**
åœ¨æäº¤ä»£ç å‰è‡ªåŠ¨è¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿ä¸ç ´åç°æœ‰åŠŸèƒ½ã€‚

**Hookè„šæœ¬å†…å®¹**
```
æ‰§è¡Œå‘½ä»¤ï¼š
python test_sources_now.py > test_baseline.txt

å¯¹æ¯”åŸºçº¿ï¼š
if å€™é€‰æ€»æ•° < å†å²æœ€ä½å€¼:
    è¾“å‡ºè­¦å‘Šï¼Œé˜»æ­¢æäº¤
```

**åŸºçº¿æ–‡ä»¶ç¤ºä¾‹ï¼ˆtest_baseline.txtï¼‰**
```
bioRxiv: æœ€ä½3æ¡
PubMed: æœ€ä½2æ¡
RSSé¡¶åˆŠ: æœ€ä½1æ¡
æ€»è®¡: æœ€ä½6æ¡
```

**éƒ¨ç½²å‰éªŒè¯**
åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰ï¼Œåœ¨æµ‹è¯•ç¯å¢ƒè¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ï¼š
1. test_sources_now.pyï¼ˆå¿«é€Ÿå†’çƒŸæµ‹è¯•ï¼‰
2. test_sources_detail.pyï¼ˆè¯¦ç»†éªŒè¯ï¼‰
3. test_ui.pyæ‰‹åŠ¨æµ‹è¯•ï¼ˆç•Œé¢äº¤äº’éªŒè¯ï¼‰

### 8.8 æµ‹è¯•å…¼å®¹æ€§ä¿éšœæ€»ç»“

**æ ¸å¿ƒæ‰¿è¯º**
âœ… æ‰€æœ‰ä¼˜åŒ–å‡ä¿æŒå‘åå…¼å®¹ï¼Œæµ‹è¯•æ–‡ä»¶æ— éœ€ä¿®æ”¹å³å¯æ­£å¸¸è¿è¡Œ

**æŠ€æœ¯ä¿éšœ**
- é‡‡ç”¨å‚æ•°åŒ–è®¾è®¡ï¼Œé»˜è®¤å€¼ä¿æŒæ—§ç‰ˆè¡Œä¸º
- æ–°åŠŸèƒ½é€šè¿‡å¯é€‰å‚æ•°æˆ–ç¯å¢ƒå˜é‡å¯ç”¨
- fetchæ–¹æ³•ç­¾åä¸¥æ ¼ä¸å˜

**éªŒè¯æœºåˆ¶**
- ä¼˜åŒ–å‰åå¯¹æ¯”æµ‹è¯•
- åŸºçº¿å¯¹æ¯”é˜²æ­¢é€€åŒ–
- æŒç»­é›†æˆè‡ªåŠ¨åŒ–éªŒè¯

**é£é™©æ§åˆ¶**
- åˆ†é˜¶æ®µå®æ–½ï¼Œæ¯é˜¶æ®µéªŒè¯æµ‹è¯•å…¼å®¹æ€§
- é…ç½®å¼€å…³å¿«é€Ÿå›æ»š
- ä¿ç•™æ—§ç‰ˆä»£ç è·¯å¾„ä½œä¸ºå¤‡ç”¨

## ä¹ã€ç­”å¤ç”¨æˆ·ç–‘é—®

### 8.1 é’ˆå¯¹ç”¨æˆ·å»ºè®®çš„è¯„ä¼°

**ç”¨æˆ·å»ºè®®è¦ç‚¹**
1. æ‰©å¤§é€šé‡ï¼šMAX_PAGESæå‡è‡³20ï¼Œå¢åŠ æ—¶é—´æ—©é€€æœºåˆ¶
2. å¢å¼ºç‰¹å¼‚æ€§ï¼šåŒå‘ç­›é€‰ã€è±å…æœºåˆ¶ã€ä¸Šä¸‹æ–‡æ„ŸçŸ¥
3. PhDçº§æ‰“åˆ†ï¼šImpact FactoråŠ æƒã€P0/P1/P2åˆ†å±‚
4. è¯Šæ–­æ—¥å¿—ï¼šæ•°æ®æ¼æ–—å¯è§†åŒ–

**è¯„ä¼°ç»“è®º**
âœ… **å…¨éƒ¨å»ºè®®å‡å…·å¤‡å¯è¡Œæ€§**

**ä¼˜å…ˆçº§æ’åº**
1. â­â­â­â­â­ åŠ¨æ€åˆ†é¡µ + è¯Šæ–­æ—¥å¿—ï¼ˆç«‹å³å®æ–½ï¼‰
2. â­â­â­â­ ç»“æ„å…³é”®è¯åŠ æƒ + æ‰©å±•åˆ†ç±»ï¼ˆ1å‘¨å†…å®æ–½ï¼‰
3. â­â­â­ è±å…æœºåˆ¶ + åˆ†å±‚è¯„åˆ†ï¼ˆ2å‘¨å†…å®æ–½ï¼‰
4. â­â­ ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼ˆæŒ‰éœ€å®æ–½ï¼‰

**å…³äºå®Œæ•´ä»£ç é‡å†™**
- ä¸å»ºè®®å®Œå…¨é‡å†™ï¼Œå½“å‰æ¶æ„è‰¯å¥½ï¼Œä»…éœ€å¢é‡ä¼˜åŒ–
- å»ºè®®é‡‡ç”¨åˆ†é˜¶æ®µå®æ–½ç­–ç•¥ï¼Œæ¯é˜¶æ®µéªŒè¯æ•ˆæœåå†è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
- æ ¸å¿ƒä¿®æ”¹é›†ä¸­åœ¨4ä¸ªæ–‡ä»¶ï¼šbiorxiv.py, config.py, scoring.py, filtering.py

### 8.2 å®æ–½å»ºè®®

**ç¬¬ä¸€æ­¥ï¼šè¯Šæ–­ç°çŠ¶ï¼ˆ1å¤©ï¼‰**
- ç«‹å³éƒ¨ç½²æ–¹æ¡ˆ6ï¼ˆè¯Šæ–­æ—¥å¿—ï¼‰
- è¿è¡Œ1æ¬¡é‡‡é›†ï¼ŒæŸ¥çœ‹æ•°æ®æ¼æ–—å„é˜¶æ®µæŸå¤±æƒ…å†µ
- ç¡®å®šæœ€ä¸»è¦çš„ç“¶é¢ˆç‚¹

**ç¬¬äºŒæ­¥ï¼šå¿«é€Ÿè§æ•ˆï¼ˆ1å‘¨ï¼‰**
- å®æ–½æ–¹æ¡ˆ1ï¼ˆåŠ¨æ€åˆ†é¡µï¼‰
- å®æ–½æ–¹æ¡ˆ4ï¼ˆç»“æ„å…³é”®è¯åŠ æƒï¼‰
- è§‚å¯Ÿå€™é€‰è®ºæ–‡æ•°æ˜¯å¦è¾¾åˆ°30+

**ç¬¬ä¸‰æ­¥ï¼šç²¾ç»†åŒ–ä¼˜åŒ–ï¼ˆ2å‘¨ï¼‰**
- å®æ–½æ–¹æ¡ˆ2ï¼ˆæ‰©å±•åˆ†ç±»ï¼‰
- å®æ–½æ–¹æ¡ˆ3ï¼ˆè±å…æœºåˆ¶ï¼‰
- å®æ–½æ–¹æ¡ˆ5ï¼ˆåˆ†å±‚è¯„åˆ†ï¼‰

**ç¬¬å››æ­¥ï¼šæŒç»­è¿­ä»£ï¼ˆé•¿æœŸï¼‰**
- æ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´æƒé‡
- æ‰©å±•è±å…è¯åˆ—è¡¨
- ä¼˜åŒ–æœŸåˆŠå½±å“å› å­æ˜ å°„
**å®æ–½è¦ç‚¹**
- BioRxivSource.fetch() ç­¾åä¿æŒä¸å˜
- MAX_PAGES ä»å¸¸é‡æ”¹ä¸ºç±»å±æ€§ï¼Œå¯é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥
- è¯Šæ–­æ—¥å¿—ä½œä¸ºå¯é€‰åŠŸèƒ½ï¼Œé»˜è®¤å…³é—­

**ä»£ç ç¤ºä¾‹ï¼ˆå‘åå…¼å®¹çš„å‚æ•°æ‰©å±•ï¼‰**
```
æ—§ç‰ˆè°ƒç”¨ï¼š
source = BioRxivSource(window_days=7)

æ–°ç‰ˆè°ƒç”¨ï¼ˆæµ‹è¯•æ— éœ€ä¿®æ”¹ï¼‰ï¼š
source = BioRxivSource(window_days=7)  # é»˜è®¤max_pages=20

é«˜çº§è°ƒç”¨ï¼ˆç”Ÿäº§ç¯å¢ƒå¯é€‰ï¼‰ï¼š
source = BioRxivSource(window_days=7, max_pages=20, enable_diagnostic=True)
```

**åŸåˆ™2ï¼šé…ç½®å¯å›é€€**
æ‰€æœ‰æ–°å¢é…ç½®é¡¹é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é»˜è®¤å€¼æ§åˆ¶ï¼Œå¯å¿«é€Ÿå›é€€åˆ°åŸå§‹è¡Œä¸ºã€‚

**å®æ–½è¦ç‚¹**
- TARGET_CATEGORIES æ‰©å±•ä¸ºæ–°æ—§ä¸¤ç‰ˆï¼Œé€šè¿‡å¼€å…³åˆ‡æ¢
- ENABLE_EXEMPTION å¼€å…³æ§åˆ¶è±å…æœºåˆ¶
- MAX_PAGES ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§é«˜äºç¡¬ç¼–ç 

**é…ç½®åˆ†å±‚ç¤ºä¾‹**
| é…ç½®é¡¹ | é»˜è®¤å€¼ | ç¯å¢ƒå˜é‡ | æµ‹è¯•ç¯å¢ƒ | ç”Ÿäº§ç¯å¢ƒ |
|--------|--------|---------|----------|----------|
| MAX_PAGES | 5 | BIORXIV_MAX_PAGES | 5 | 20 |
| ENABLE_EXEMPTION | False | ENABLE_EXEMPTION | False | True |
| ENABLE_DIAGNOSTIC | False | ENABLE_DIAGNOSTIC | False | True |

**åŸåˆ™3ï¼šæµ‹è¯•æ•°æ®éš”ç¦»**
æµ‹è¯•æ–‡ä»¶ä½¿ç”¨ç‹¬ç«‹çš„å‚æ•°é…ç½®ï¼Œä¸å½±å“ç”Ÿäº§ç¯å¢ƒã€‚

**å®æ–½è¦ç‚¹**
- test_ui.py é€šè¿‡ç•Œé¢å‚æ•°ç‹¬ç«‹æ§åˆ¶å„æ•°æ®æºè¡Œä¸º
- test_sources_detail.py é€šè¿‡ä¸´æ—¶å˜é‡è¦†ç›–é»˜è®¤é…ç½®
- æµ‹è¯•ä½¿ç”¨ `sent_ids.copy()` é¿å…æ±¡æŸ“å†å²è®°å½•

### 8.4 æµ‹è¯•ä¿éšœæ–¹æ¡ˆ

#### æ–¹æ¡ˆAï¼šå‚æ•°åŒ–æ•°æ®æºç±»ï¼ˆæ¨èï¼‰

**è®¾è®¡æ€è·¯**
å°†MAX_PAGESã€ENABLE_EXEMPTIONç­‰ä»å…¨å±€å¸¸é‡æ”¹ä¸ºç±»å±æ€§ï¼Œæ”¯æŒå®ä¾‹åŒ–æ—¶ä¼ å…¥ã€‚

**BioRxivSource æ”¹é€ ç¤ºä¾‹**
```
ç°æœ‰è®¾è®¡ï¼š
MAX_PAGES = 5  # å…¨å±€å¸¸é‡

class BioRxivSource:
    def fetch(...):
        for page in range(MAX_PAGES):  # ç¡¬ç¼–ç 
            ...

ä¼˜åŒ–åè®¾è®¡ï¼š
class BioRxivSource:
    def __init__(self, window_days=None, max_pages=None, enable_diagnostic=False):
        self.window_days = window_days or Config.DEFAULT_WINDOW_DAYS
        self.max_pages = max_pages or Config.BIORXIV_MAX_PAGES or 5  # å‘åå…¼å®¹
        self.enable_diagnostic = enable_diagnostic
    
    def fetch(...):
        for page in range(self.max_pages):  # ä½¿ç”¨å®ä¾‹å±æ€§
            ...
```

**æµ‹è¯•æ–‡ä»¶å…¼å®¹æ€§**
- test_ui.py: é€šè¿‡ç•Œé¢inputç›´æ¥ä¼ å…¥max_pageså‚æ•°ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 
- test_sources_detail.py: ä¿æŒé»˜è®¤è°ƒç”¨ `BioRxivSource()`ï¼Œè¡Œä¸ºä¸å˜
- test_sources_now.py: ä¿æŒé»˜è®¤è°ƒç”¨ï¼Œè¡Œä¸ºä¸å˜

**ä¼˜ç‚¹**
- å®Œå…¨å‘åå…¼å®¹ï¼Œæµ‹è¯•é›¶ä¿®æ”¹
- çµæ´»æ€§é«˜ï¼Œå¯é’ˆå¯¹ä¸åŒåœºæ™¯å®šåˆ¶å‚æ•°
- ç¬¦åˆé¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™

#### æ–¹æ¡ˆBï¼šé…ç½®å¼€å…³æ§åˆ¶ï¼ˆå¤‡é€‰ï¼‰

**è®¾è®¡æ€è·¯**
åœ¨Configä¸­å¢åŠ å¼€å…³å˜é‡ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶æ–°åŠŸèƒ½æ˜¯å¦å¯ç”¨ã€‚

**Config æ–°å¢é…ç½®**
```
class Config:
    # ä¼˜åŒ–å¼€å…³
    BIORXIV_MAX_PAGES = int(os.getenv("BIORXIV_MAX_PAGES", "5"))  # é»˜è®¤5é¡µ
    ENABLE_EXEMPTION = os.getenv("ENABLE_EXEMPTION", "False") == "True"  # é»˜è®¤å…³é—­
    ENABLE_DIAGNOSTIC = os.getenv("ENABLE_DIAGNOSTIC", "False") == "True"  # é»˜è®¤å…³é—­
    
    # æ‰©å±•åˆ†ç±»ï¼ˆå‘åå…¼å®¹ï¼‰
    TARGET_CATEGORIES_V1 = ['plant biology', 'biochemistry', ...]  # åŸç‰ˆ
    TARGET_CATEGORIES_V2 = [..., 'structural biology', 'cell biology']  # æ‰©å±•ç‰ˆ
    
    @classmethod
    def get_target_categories(cls):
        version = os.getenv("TARGET_CATEGORIES_VERSION", "1")
        return cls.TARGET_CATEGORIES_V2 if version == "2" else cls.TARGET_CATEGORIES_V1
```

**æµ‹è¯•ç¯å¢ƒé…ç½®**
æµ‹è¯•æ–‡ä»¶ä¸è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä½¿ç”¨æ—§ç‰ˆè¡Œä¸ºã€‚

**ç”Ÿäº§ç¯å¢ƒé…ç½®**
åœ¨éƒ¨ç½²å¹³å°è®¾ç½®ç¯å¢ƒå˜é‡å¯ç”¨ä¼˜åŒ–ï¼š
- BIORXIV_MAX_PAGES=20
- ENABLE_EXEMPTION=True
- TARGET_CATEGORIES_VERSION=2

**ä¼˜ç‚¹**
- æµ‹è¯•é›¶ä¿®æ”¹ï¼Œé»˜è®¤æ—§ç‰ˆè¡Œä¸º
- ç”Ÿäº§ç¯å¢ƒç‹¬ç«‹æ§åˆ¶
- å¯å¿«é€Ÿå›æ»šï¼ˆä¿®æ”¹ç¯å¢ƒå˜é‡å³å¯ï¼‰

**ç¼ºç‚¹**
- çµæ´»æ€§ä¸å¦‚æ–¹æ¡ˆA
- éœ€è¦ç»´æŠ¤å¤šç‰ˆæœ¬é…ç½®

### 8.5 æµ‹è¯•éªŒè¯æ¸…å•

**å•å…ƒæµ‹è¯•ï¼ˆä¼˜åŒ–å‰æ‰§è¡Œï¼‰**
- [ ] è¿è¡Œ `python test_sources_now.py`ï¼Œè®°å½•å„æ•°æ®æºæ•°é‡åŸºçº¿
- [ ] è¿è¡Œ `streamlit run test_ui.py`ï¼ŒéªŒè¯ç•Œé¢æ­£å¸¸åŠ è½½
- [ ] è¿è¡Œ `python test_sources_detail.py`ï¼Œè®°å½•bioRxivè¯¦ç»†æ•°æ®

**é›†æˆæµ‹è¯•ï¼ˆä¼˜åŒ–åæ‰§è¡Œï¼‰**
- [ ] æµ‹è¯•é»˜è®¤è°ƒç”¨ï¼š`source = BioRxivSource()` è¡Œä¸ºä¸ä¼˜åŒ–å‰ä¸€è‡´
- [ ] æµ‹è¯•æ–°å‚æ•°è°ƒç”¨ï¼š`source = BioRxivSource(max_pages=20)` è¿”å›æ›´å¤šç»“æœ
- [ ] è¿è¡Œ `streamlit run test_ui.py`ï¼ŒéªŒè¯ç•Œé¢åŠŸèƒ½æ­£å¸¸
- [ ] åœ¨test_ui.pyä¸­è°ƒæ•´bio_pages=20ï¼ŒéªŒè¯ç»“æœå¢åŠ 

**å›å½’æµ‹è¯•**
- [ ] å¯¹æ¯”ä¼˜åŒ–å‰åtest_sources_now.pyçš„è¾“å‡ºï¼Œç¡®è®¤é»˜è®¤è¡Œä¸ºä¸å˜
- [ ] ä½¿ç”¨ç›¸åŒå‚æ•°è¿è¡Œtest_sources_detail.pyï¼Œå¯¹æ¯”è¾“å‡ºä¸€è‡´æ€§
- [ ] æ£€æŸ¥test_ui.pyä¸­å„æ•°æ®æºtabåŠŸèƒ½å®Œæ•´æ€§

### 8.6 æµ‹è¯•æ–‡ä»¶å¢å¼ºå»ºè®®ï¼ˆå¯é€‰ï¼‰

#### å»ºè®®1ï¼šåœ¨test_ui.pyä¸­å¢åŠ ä¼˜åŒ–å‚æ•°é€‰é¡¹

**bioRxiv Tab æ–°å¢æ§ä»¶**
åœ¨test_ui.pyçš„ç¬¬66-75è¡ŒåŒºåŸŸå¢åŠ é«˜çº§é€‰é¡¹ï¼š

```
å¢åŠ æ§ä»¶ä½ç½®ï¼šç¬¬75è¡Œä¹‹å

with st.expander("ğŸ”§ é«˜çº§ä¼˜åŒ–é€‰é¡¹", expanded=False):
    enable_exemption = st.checkbox("å¯ç”¨è±å…æœºåˆ¶ï¼ˆç»“æ„ç”Ÿç‰©å­¦å…³é”®è¯ï¼‰", value=False)
    enable_diagnostic = st.checkbox("å¯ç”¨è¯Šæ–­æ—¥å¿—", value=False)
```

**ä¼ å‚æ–¹å¼**
```
ä¿®æ”¹ç¬¬80è¡Œå®ä¾‹åŒ–ä»£ç ï¼š
source = BioRxivSource(
    window_days=bio_window,
    max_pages=bio_pages,
    enable_exemption=enable_exemption,
    enable_diagnostic=enable_diagnostic
)
```

**é¢„æœŸæ•ˆæœ**
- é»˜è®¤å…³é—­ä¼˜åŒ–åŠŸèƒ½ï¼Œæµ‹è¯•åŸå§‹è¡Œä¸º
- å¼€å¯åå¯åœ¨ç•Œé¢å®æ—¶å¯¹æ¯”ä¼˜åŒ–æ•ˆæœ
- è¯Šæ–­æ—¥å¿—ç›´æ¥åœ¨ç•Œé¢å±•ç¤ºæ•°æ®æ¼æ–—

#### å»ºè®®2ï¼šå¢åŠ A/Bå¯¹æ¯”æµ‹è¯•åŠŸèƒ½

**æ–°å¢Tabï¼šä¼˜åŒ–æ•ˆæœå¯¹æ¯”**
åœ¨test_ui.pyä¸­æ–°å¢ç¬¬8ä¸ªTabï¼Œå¹¶æ’å¯¹æ¯”ä¼˜åŒ–å‰åæ•ˆæœã€‚

**ç•Œé¢å¸ƒå±€**
```
å·¦å³åˆ†æ ï¼š
å·¦ä¾§ï¼šæ—§ç‰ˆå‚æ•°ï¼ˆmax_pages=5, æ— è±å…ï¼‰
å³ä¾§ï¼šæ–°ç‰ˆå‚æ•°ï¼ˆmax_pages=20, è±å…æœºåˆ¶ï¼‰

å¯¹æ¯”æŒ‡æ ‡ï¼š
- å€™é€‰è®ºæ–‡æ•°
- P0/P1/P2åˆ†å¸ƒ
- å¤„ç†æ—¶é•¿
- æ•°æ®æ¼æ–—å„é˜¶æ®µæ•°é‡
```

**ä»·å€¼**
- ç›´è§‚éªŒè¯ä¼˜åŒ–æ•ˆæœ
- å¿«é€Ÿå‘ç°é—®é¢˜
- è¾…åŠ©å‚æ•°è°ƒä¼˜

### 8.7 æŒç»­é›†æˆå»ºè®®

**Git Pre-commit Hook**
åœ¨æäº¤ä»£ç å‰è‡ªåŠ¨è¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿ä¸ç ´åç°æœ‰åŠŸèƒ½ã€‚

**Hookè„šæœ¬å†…å®¹**
```
æ‰§è¡Œå‘½ä»¤ï¼š
python test_sources_now.py > test_baseline.txt

å¯¹æ¯”åŸºçº¿ï¼š
if å€™é€‰æ€»æ•° < å†å²æœ€ä½å€¼:
    è¾“å‡ºè­¦å‘Šï¼Œé˜»æ­¢æäº¤
```

**åŸºçº¿æ–‡ä»¶ç¤ºä¾‹ï¼ˆtest_baseline.txtï¼‰**
```
bioRxiv: æœ€ä½3æ¡
PubMed: æœ€ä½2æ¡
RSSé¡¶åˆŠ: æœ€ä½1æ¡
æ€»è®¡: æœ€ä½6æ¡
```

**éƒ¨ç½²å‰éªŒè¯**
åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰ï¼Œåœ¨æµ‹è¯•ç¯å¢ƒè¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ï¼š
1. test_sources_now.pyï¼ˆå¿«é€Ÿå†’çƒŸæµ‹è¯•ï¼‰
2. test_sources_detail.pyï¼ˆè¯¦ç»†éªŒè¯ï¼‰
3. test_ui.pyæ‰‹åŠ¨æµ‹è¯•ï¼ˆç•Œé¢äº¤äº’éªŒè¯ï¼‰

### 8.8 æµ‹è¯•å…¼å®¹æ€§ä¿éšœæ€»ç»“

**æ ¸å¿ƒæ‰¿è¯º**
âœ… æ‰€æœ‰ä¼˜åŒ–å‡ä¿æŒå‘åå…¼å®¹ï¼Œæµ‹è¯•æ–‡ä»¶æ— éœ€ä¿®æ”¹å³å¯æ­£å¸¸è¿è¡Œ

**æŠ€æœ¯ä¿éšœ**
- é‡‡ç”¨å‚æ•°åŒ–è®¾è®¡ï¼Œé»˜è®¤å€¼ä¿æŒæ—§ç‰ˆè¡Œä¸º
- æ–°åŠŸèƒ½é€šè¿‡å¯é€‰å‚æ•°æˆ–ç¯å¢ƒå˜é‡å¯ç”¨
- fetchæ–¹æ³•ç­¾åä¸¥æ ¼ä¸å˜

**éªŒè¯æœºåˆ¶**
- ä¼˜åŒ–å‰åå¯¹æ¯”æµ‹è¯•
- åŸºçº¿å¯¹æ¯”é˜²æ­¢é€€åŒ–
- æŒç»­é›†æˆè‡ªåŠ¨åŒ–éªŒè¯

**é£é™©æ§åˆ¶**
- åˆ†é˜¶æ®µå®æ–½ï¼Œæ¯é˜¶æ®µéªŒè¯æµ‹è¯•å…¼å®¹æ€§
- é…ç½®å¼€å…³å¿«é€Ÿå›æ»š
- ä¿ç•™æ—§ç‰ˆä»£ç è·¯å¾„ä½œä¸ºå¤‡ç”¨

## ä¹ã€ç­”å¤ç”¨æˆ·ç–‘é—®

### 8.1 é’ˆå¯¹ç”¨æˆ·å»ºè®®çš„è¯„ä¼°

**ç”¨æˆ·å»ºè®®è¦ç‚¹**
1. æ‰©å¤§é€šé‡ï¼šMAX_PAGESæå‡è‡³20ï¼Œå¢åŠ æ—¶é—´æ—©é€€æœºåˆ¶
2. å¢å¼ºç‰¹å¼‚æ€§ï¼šåŒå‘ç­›é€‰ã€è±å…æœºåˆ¶ã€ä¸Šä¸‹æ–‡æ„ŸçŸ¥
3. PhDçº§æ‰“åˆ†ï¼šImpact FactoråŠ æƒã€P0/P1/P2åˆ†å±‚
4. è¯Šæ–­æ—¥å¿—ï¼šæ•°æ®æ¼æ–—å¯è§†åŒ–

**è¯„ä¼°ç»“è®º**
âœ… **å…¨éƒ¨å»ºè®®å‡å…·å¤‡å¯è¡Œæ€§**

**ä¼˜å…ˆçº§æ’åº**
1. â­â­â­â­â­ åŠ¨æ€åˆ†é¡µ + è¯Šæ–­æ—¥å¿—ï¼ˆç«‹å³å®æ–½ï¼‰
2. â­â­â­â­ ç»“æ„å…³é”®è¯åŠ æƒ + æ‰©å±•åˆ†ç±»ï¼ˆ1å‘¨å†…å®æ–½ï¼‰
3. â­â­â­ è±å…æœºåˆ¶ + åˆ†å±‚è¯„åˆ†ï¼ˆ2å‘¨å†…å®æ–½ï¼‰
4. â­â­ ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼ˆæŒ‰éœ€å®æ–½ï¼‰

**å…³äºå®Œæ•´ä»£ç é‡å†™**
- ä¸å»ºè®®å®Œå…¨é‡å†™ï¼Œå½“å‰æ¶æ„è‰¯å¥½ï¼Œä»…éœ€å¢é‡ä¼˜åŒ–
- å»ºè®®é‡‡ç”¨åˆ†é˜¶æ®µå®æ–½ç­–ç•¥ï¼Œæ¯é˜¶æ®µéªŒè¯æ•ˆæœåå†è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
- æ ¸å¿ƒä¿®æ”¹é›†ä¸­åœ¨4ä¸ªæ–‡ä»¶ï¼šbiorxiv.py, config.py, scoring.py, filtering.py

### 8.2 å®æ–½å»ºè®®

**ç¬¬ä¸€æ­¥ï¼šè¯Šæ–­ç°çŠ¶ï¼ˆ1å¤©ï¼‰**
- ç«‹å³éƒ¨ç½²æ–¹æ¡ˆ6ï¼ˆè¯Šæ–­æ—¥å¿—ï¼‰
- è¿è¡Œ1æ¬¡é‡‡é›†ï¼ŒæŸ¥çœ‹æ•°æ®æ¼æ–—å„é˜¶æ®µæŸå¤±æƒ…å†µ
- ç¡®å®šæœ€ä¸»è¦çš„ç“¶é¢ˆç‚¹

**ç¬¬äºŒæ­¥ï¼šå¿«é€Ÿè§æ•ˆï¼ˆ1å‘¨ï¼‰**
- å®æ–½æ–¹æ¡ˆ1ï¼ˆåŠ¨æ€åˆ†é¡µï¼‰
- å®æ–½æ–¹æ¡ˆ4ï¼ˆç»“æ„å…³é”®è¯åŠ æƒï¼‰
- è§‚å¯Ÿå€™é€‰è®ºæ–‡æ•°æ˜¯å¦è¾¾åˆ°30+

**ç¬¬ä¸‰æ­¥ï¼šç²¾ç»†åŒ–ä¼˜åŒ–ï¼ˆ2å‘¨ï¼‰**
- å®æ–½æ–¹æ¡ˆ2ï¼ˆæ‰©å±•åˆ†ç±»ï¼‰
- å®æ–½æ–¹æ¡ˆ3ï¼ˆè±å…æœºåˆ¶ï¼‰
- å®æ–½æ–¹æ¡ˆ5ï¼ˆåˆ†å±‚è¯„åˆ†ï¼‰

**ç¬¬å››æ­¥ï¼šæŒç»­è¿­ä»£ï¼ˆé•¿æœŸï¼‰**
- æ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´æƒé‡
- æ‰©å±•è±å…è¯åˆ—è¡¨
- ä¼˜åŒ–æœŸåˆŠå½±å“å› å­æ˜ å°„
