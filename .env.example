# Environment variables template
# Copy this file to .env and fill in your values

# ============================================
# Required Configuration (必需配置)
# ============================================

# DeepSeek API Configuration (必需)
# Get your API key from: https://platform.deepseek.com/
DEEPSEEK_API_KEY=your_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com

# Backup DeepSeek API Keys (可选备用密钥，失败时自动切换)
# DEEPSEEK_API_KEY_1=backup_key_1
# DEEPSEEK_API_KEY_2=backup_key_2

# PubMed Configuration (必需)
# Provide your email for PubMed API access
PUBMED_EMAIL=your_email@example.com

# ============================================
# Push Notification Configuration (推送配置)
# At least one push channel is recommended
# ============================================

# PushPlus Tokens (推荐，支持多个token用逗号分隔)
# Get token from: http://www.pushplus.plus/
PUSHPLUS_TOKENS=token1,token2

# Email Configuration (可选)
SENDER_EMAIL=
SENDER_AUTH_CODE=
RECEIVER_EMAIL=

# Enterprise WeChat Webhook (可选)
WECOM_WEBHOOK_URL=

# ============================================
# Security Configuration (安全配置)
# ============================================

# JWT Secret Key (建议修改)
SECRET_KEY=your-secret-key-please-change-it

# Admin Credentials (建议修改)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# ============================================
# Database Configuration (数据库配置)
# ============================================

DB_PATH=data/database/paper_push.db

# ============================================
# Data Collection Configuration (数据采集配置)
# ============================================

# Fetch window in days (抓取时间窗口，天数)
DEFAULT_WINDOW_DAYS=1
EUROPEPMC_WINDOW_DAYS=1

# Number of top papers to select (选择Top K篇论文)
TOP_K=12

# Quick filter threshold (快速筛选阈值)
QUICK_FILTER_THRESHOLD=50

# Minimum candidates for fallback (触发回退的最小候选数)
MIN_CANDIDATES=5

# Maximum fallback window in days (最大回退窗口)
MAX_WINDOW_DAYS=60

# ============================================
# API Configuration (API配置)
# ============================================

# GitHub Token (可选，避免API限流)
GITHUB_TOKEN=

# Semantic Scholar API Key (可选)
SEMANTIC_SCHOLAR_API_KEY=

# ============================================
# Performance Configuration (性能配置)
# ============================================

# API Timeout in seconds (API超时时间)
API_TIMEOUT=600

# API Retry Configuration (API重试配置)
API_MAX_RETRIES=3
API_RETRY_BASE_DELAY=10
API_RETRY_MAX_DELAY=60

# LLM Context Management (LLM上下文管理)
LLM_MAX_CONTEXT_TOKENS=32000
LLM_TOKEN_BUFFER_RATIO=1.2

# ============================================
# Feature Toggles (功能开关)
# ============================================

# Enable top-tier journal date tolerance (顶刊日期容错)
ENABLE_TOP_TIER_DATE_TOLERANCE=True
TOP_TIER_TRUST_HOURS=48

# Enable deduplication mechanisms (去重机制)
ENABLE_LINK_HASH_DEDUP=True
ENABLE_TITLE_FINGERPRINT_DEDUP=True

# Enable exemption for structural biology papers (结构生物学论文豁免)
ENABLE_EXEMPTION=True
ENABLE_WEIGHT_BASED_EXEMPTION=True

# Enable diagnostic logging (诊断日志)
ENABLE_DIAGNOSTIC=True

# Enable latency tracking (延迟跟踪)
ENABLE_LATENCY_TRACKING=True

# Dynamic context management (动态上下文管理)
ENABLE_DYNAMIC_CONTEXT_MANAGEMENT=True

# ============================================
# Logging Configuration (日志配置)
# ============================================

LOG_LEVEL=INFO
LOG_FILE=data/logs/paper_push.log

# ============================================
# BioRxiv Configuration (BioRxiv配置)
# ============================================

BIORXIV_MAX_PAGES=20
