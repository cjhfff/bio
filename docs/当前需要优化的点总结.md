# 当前需要优化的点总结

## 一、报告生成问题

### 1. 论文编号不连续 ⚠️
**问题**:
- 相关论文显示为"论文 2"、"论文 3"、"论文 4"，应该是"论文 1"、"论文 2"、"论文 3"
- 已过滤论文显示为"已过滤论文 2"到"已过滤论文 9"，应该是"已过滤论文 1"到"已过滤论文 8"

**原因**:
- 生成单篇报告时使用了原始序号（`paper_idx`），而报告生成时按相关/已过滤重新分组，导致编号不连续

**影响**: 用户体验差，编号混乱

**优先级**: 🔴 高

---

### 2. 报告格式不一致 ⚠️
**问题**:
- 第43行：`## 【论文标题】` 多了一个 `#`
- 应为：`### 【论文标题】`

**影响**: 格式不统一，影响美观

**优先级**: 🟡 中

---

## 二、数据源问题

### 3. EuropePMC返回0篇 ⚠️
**问题**:
- 最新运行结果显示 EuropePMC 返回 0 篇论文
- 可能原因：
  1. 查询条件过严（关键词匹配太严格）
  2. 索引延迟（论文还没被索引）
  3. 1天窗口确实太短

**影响**: 漏掉可能的相关论文

**优先级**: 🔴 高

**建议**:
- 检查查询条件是否过严
- 考虑放宽关键词匹配
- 或者改为2天窗口（如果索引延迟明显）

---

### 4. GitHub频繁限流 ⚠️
**问题**:
- GitHub API 频繁返回 403 错误（rate limit exceeded）
- 最新运行结果显示 GitHub 返回 0 篇

**影响**: 无法发现新工具和算法

**优先级**: 🟡 中

**建议**:
- 添加重试机制和指数退避
- 添加 API Key 认证（如果有）
- 或者降低请求频率

---

### 5. 数据源覆盖不全面 ⚠️
**问题**:
- 缺少 arXiv（重要预印本源）
- 缺少 medRxiv（医学预印本）
- 只覆盖顶级期刊，漏掉其他重要期刊（Plant Cell, PNAS, eLife等）
- SemanticScholar 已禁用（API限流）
- ScienceNews 已禁用（RSS失效）

**影响**: 可能漏掉20-30%的相关论文

**优先级**: 🟢 低（长期改进）

**建议**:
- 添加 arXiv 数据源
- 添加更多期刊 RSS
- 优化 SemanticScholar 的限流处理

---

## 三、快速AI预筛选问题

### 6. 快速筛选阈值可能需要调整 ⚠️
**问题**:
- 当前阈值：50分（只对50分以上的论文进行快速AI判断）
- 可能存在的问题：
  - 如果阈值太高，可能漏掉一些相关但评分较低的论文
  - 如果阈值太低，会增加API调用次数和成本

**影响**: 可能影响筛选效果和API成本

**优先级**: 🟡 中

**建议**:
- 根据实际运行情况调整阈值
- 或者根据论文数量动态调整阈值

---

## 四、评分系统问题

### 7. 上下文检查可能不够完善 ⚠️
**问题**:
- 虽然已经添加了上下文检查，但可能还不够完善
- 某些不相关论文可能仍然能通过评分系统

**影响**: 不相关论文仍然可能被选中

**优先级**: 🟡 中

**建议**:
- 继续优化上下文检查逻辑
- 添加更多非相关上下文的识别

---

## 五、其他优化点

### 8. 报告统计信息 ⚠️
**问题**:
- 报告显示"论文数量: 11"，但实际相关论文只有3篇
- 统计信息可能不够清晰

**影响**: 用户可能混淆

**优先级**: 🟢 低

**建议**:
- 分别统计相关论文和已过滤论文的数量
- 提供更清晰的统计信息

---

### 9. 日志信息 ⚠️
**问题**:
- 快速筛选的日志信息可能需要更详细
- 某些关键步骤的日志可能不够清晰

**影响**: 调试和监控困难

**优先级**: 🟢 低

**建议**:
- 优化日志输出，提供更详细的信息
- 添加关键步骤的统计信息

---

## 优化优先级总结

### 🔴 高优先级（立即修复）
1. **论文编号不连续** - 影响用户体验
2. **EuropePMC返回0篇** - 影响数据完整性

### 🟡 中优先级（近期优化）
3. **报告格式不一致** - 影响美观
4. **GitHub限流问题** - 影响工具发现
5. **快速筛选阈值调整** - 影响筛选效果
6. **上下文检查优化** - 影响筛选准确性

### 🟢 低优先级（长期改进）
7. **数据源覆盖扩展** - 提高覆盖率
8. **报告统计信息优化** - 提升用户体验
9. **日志信息优化** - 便于调试

---

## 建议的实施顺序

### 第一阶段（立即实施）
1. 修复论文编号问题
2. 优化 EuropePMC 查询逻辑

### 第二阶段（近期实施）
3. 修复报告格式问题
4. 优化 GitHub 限流处理
5. 调整快速筛选阈值（根据实际运行情况）

### 第三阶段（长期改进）
6. 添加 arXiv 数据源
7. 优化报告统计信息
8. 完善日志输出

